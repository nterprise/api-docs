{
  "label": "Provision devices",
  "work_order_id": "0f40ff8c-a3b5-4a30-90e5-0421c153183c",
  "slug": "provision-devices",
  "description": "Provision 150 devices for 123 Main St",
  "type": "device",
  "due_date": "2020-08-07T18:10:53.0Z",
  "current_status": {
    "status": "Verifying",
    "category": "VERIFYING"
  },
  "status_history": [
    {
      "status": "Cancelled",
      "created": "2009-05-01T03:14:38.499Z",
      "category": "VERIFYING"
    },
    {
      "status": "Reticulating Splines",
      "created": "1964-08-17T23:56:30.469Z",
      "category": "CANCELLED"
    },
    {
      "status": "Verifying",
      "created": "2014-03-18T09:16:59.294Z",
      "category": "BLOCKED"
    }
  ],
  "project": {
    "label": "Store 42",
    "customer": {
      "label": "Zones Inc",
      "customer_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
      "slug": "zones-inc",
      "external_platform": {
        "ax_customer_id": "eff3ada3-0966-42be-a5e8-78efd3c52d39"
      },
      "allowed_statuses": [
        {
          "status": "Cancelled",
          "category": "BLOCKED"
        },
        {
          "status": "Complete",
          "category": "CANCELLED"
        }
      ],
      "created": "1973-05-05T11:34:19.922Z",
      "updated": "2011-04-02T17:06:21.034Z"
    },
    "program": {
      "label": "GAP Store refresh",
      "customer": {
        "label": "Zones Inc",
        "customer_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
        "slug": "zones-inc",
        "external_platform": {
          "ax_customer_id": "eff3ada3-0966-42be-a5e8-78efd3c52d39"
        },
        "allowed_statuses": [
          {
            "status": "Cancelled",
            "category": "PENDING"
          },
          {
            "status": "Reticulating Splines",
            "category": "BLOCKED"
          },
          {
            "status": "Reticulating Splines",
            "category": "BLOCKED"
          },
          {
            "status": "Verifying",
            "category": "PENDING"
          },
          {
            "status": "Complete",
            "category": "PENDING"
          }
        ],
        "created": "1980-09-25T09:32:25.457Z",
        "updated": "1980-09-23T04:48:09.289Z"
      },
      "program_id": "ec5db56d-32e6-4e5d-9bef-1016f3e13670",
      "slug": "gap-store-refresh",
      "allowed_statuses": [
        {
          "status": "Cancelled",
          "category": "CANCELLED"
        },
        {
          "status": "Complete",
          "category": "IN_PROGRESS"
        },
        {
          "status": "Blocked",
          "category": "BLOCKED"
        },
        {
          "status": "Cancelled",
          "category": "VERIFYING"
        }
      ],
      "start_date": "2019-08-07T18:10:53.0Z",
      "end_date": "2020-08-07T18:10:53.0Z",
      "created": "2003-08-15T11:18:12.588Z",
      "updated": "1966-04-08T06:05:57.63Z"
    },
    "slug": "store-42",
    "project_id": "ec5db56d-32e6-4e5d-9bef-1016f3e13670",
    "allowed_statuses": [
      {
        "status": "Complete",
        "category": "BLOCKED"
      },
      {
        "status": "Pending",
        "category": "VERIFYING"
      },
      {
        "status": "Complete",
        "category": "IN_PROGRESS"
      },
      {
        "status": "Blocked",
        "category": "VERIFYING"
      }
    ],
    "start_date": "2019-08-07T18:10:53.0Z",
    "end_date": "2020-08-07T18:10:53.0Z",
    "created": "1975-04-26T06:27:03.774Z",
    "updated": "1958-11-15T18:58:42.925Z"
  },
  "work_flows": [
    {
      "cycles_needed": 4,
      "work_flow": {
        "steps": {
          "confirm": {
            "step": "complete",
            "type": "pass",
            "label": "Send email to project manager",
            "goto": "complete",
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.fizz",
                "value": "Pending",
                "lock": false,
                "ignore": false
              },
              {
                "key": "$.unit.status",
                "value": "$.buzz",
                "lock": false,
                "ignore": true
              },
              {
                "key": "$.fizz",
                "value": "$.buzz",
                "lock": true,
                "ignore": false
              },
              {
                "key": "$.unit.status",
                "value": "Pending",
                "lock": false,
                "ignore": false
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 10
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "consectetur_f0f": {
            "step": "complete",
            "type": "user",
            "options": {
              "component": "assignUnitsFromCustomerToProject",
              "payload": {
                "fields": [
                  {
                    "input_type": "textbox",
                    "label": "Asset Tag",
                    "required": false,
                    "entity_field": "input_filter[?(@.key = 'asset-tag')]"
                  },
                  {
                    "input_type": "input",
                    "label": "Asset Tag",
                    "required": true,
                    "entity_field": "input_filter[?(@.key = 'asset-tag')]"
                  },
                  {
                    "input_type": "textbox",
                    "label": "Asset Tag",
                    "required": false,
                    "entity_field": "input_filter[?(@.key = 'asset-tag')]"
                  }
                ]
              }
            },
            "label": "Find units",
            "goto": "complete",
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.unit.status",
                "value": "true",
                "lock": true,
                "ignore": true
              },
              {
                "key": "extract_fields",
                "value": "true",
                "lock": true,
                "ignore": true
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 5
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "irureb": {
            "step": "complete",
            "type": "user",
            "options": {
              "component": "confirm-action",
              "payload": {
                "message": "Device powered off?",
                "negative_message": "Device not functioning"
              }
            },
            "label": "Confirm the device has powered off",
            "goto": "complete",
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "extract_fields",
                "value": "$.buzz",
                "lock": true,
                "ignore": false
              },
              {
                "key": "$.fizz",
                "value": "Pending",
                "lock": false,
                "ignore": false
              },
              {
                "key": "$.unit.status",
                "value": "$.buzz",
                "lock": false,
                "ignore": false
              },
              {
                "key": "$.unit.status",
                "value": "$.buzz",
                "lock": true,
                "ignore": true
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 1
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "ullamco_a": {
            "step": "complete",
            "label": "Failed",
            "type": "fail",
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          }
        },
        "starts_at": "entry",
        "label": "MLTI iPad Assembly Assignment",
        "workflow_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
        "applies_to": "customer",
        "slug": "mlti-ipad-assembly-assignment",
        "version": "1.0",
        "workflow_version": 7,
        "context": [
          {
            "key": "$.fizz",
            "value": "true",
            "lock": true,
            "ignore": false
          },
          {
            "key": "$.unit.status",
            "value": "Pending",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.fizz",
            "value": "Pending",
            "lock": false,
            "ignore": false
          },
          {
            "key": "$.fizz",
            "value": "$.buzz",
            "lock": false,
            "ignore": true
          }
        ],
        "created": "1996-09-25T09:07:21.046Z",
        "updated": "1985-10-10T01:37:08.251Z"
      },
      "cycles_pending": 4,
      "cycles_in_progress": 4,
      "cycles_verifying": 4,
      "cycles_complete": 4,
      "cycles_blocked": 4,
      "cycles_cancelled": 4
    },
    {
      "cycles_needed": 4,
      "work_flow": {
        "steps": {
          "fail": {
            "step": "complete",
            "type": "pass",
            "label": "Find units",
            "goto": "complete",
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.unit.status",
                "value": "true",
                "lock": true,
                "ignore": true
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 8
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "ea_33$": {
            "step": "complete",
            "type": "machine",
            "label": "Find units",
            "goto": "complete",
            "options": {
              "application": {
                "application_id": "ace-ios",
                "platforms": [
                  {
                    "platform": "darwin",
                    "arch": "arm"
                  },
                  {
                    "platform": "sunos",
                    "arch": "s390x"
                  },
                  {
                    "platform": "sunos",
                    "arch": "ppc"
                  }
                ]
              },
              "configuration": {
                "pairing_cert": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
                "pairing_key": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
                "restore_device": true,
                "automated_enrollment": true,
                "mdm": {
                  "vendor": "Meraki",
                  "console_url": "http://jamf.zones.com",
                  "user": "NterpriseBob",
                  "password": "deserunt sed",
                  "tenant_code": "nterprise",
                  "set_asset_tag": "$._entity.input_filter[?(@.key = 'asset-tag')]"
                },
                "field_mappings": [
                  {
                    "from": "serial_number",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "ios",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "thundersync_serial",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "model",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  }
                ],
                "wait_for_apps": [
                  "com.apple.itunes",
                  "com.apple.itunes",
                  "com.apple.itunes",
                  "com.apple.itunes"
                ],
                "wait_for_battery_charge": 49
              }
            },
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.unit.status",
                "value": "true",
                "lock": false,
                "ignore": false
              },
              {
                "key": "$.fizz",
                "value": "true",
                "lock": true,
                "ignore": true
              },
              {
                "key": "$.unit.status",
                "value": "$.buzz",
                "lock": false,
                "ignore": false
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 1
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          }
        },
        "starts_at": "entry",
        "label": "MLTI iPad Assembly Assignment",
        "workflow_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
        "applies_to": "contact",
        "slug": "mlti-ipad-assembly-assignment",
        "version": "1.0",
        "workflow_version": 7,
        "context": [
          {
            "key": "extract_fields",
            "value": "$.buzz",
            "lock": false,
            "ignore": false
          },
          {
            "key": "$.fizz",
            "value": "true",
            "lock": false,
            "ignore": true
          },
          {
            "key": "extract_fields",
            "value": "true",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.unit.status",
            "value": "true",
            "lock": false,
            "ignore": false
          },
          {
            "key": "extract_fields",
            "value": "Pending",
            "lock": true,
            "ignore": true
          }
        ],
        "created": "1964-01-25T15:33:11.934Z",
        "updated": "1984-05-26T11:02:17.475Z"
      },
      "cycles_pending": 4,
      "cycles_in_progress": 4,
      "cycles_verifying": 4,
      "cycles_complete": 4,
      "cycles_blocked": 4,
      "cycles_cancelled": 4
    },
    {
      "cycles_needed": 4,
      "work_flow": {
        "steps": {
          "manual": {
            "step": "complete",
            "type": "pass",
            "label": "Send email to project manager",
            "goto": "complete",
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.fizz",
                "value": "$.buzz",
                "lock": true,
                "ignore": true
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  },
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 5
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "elit_4$": {
            "step": "complete",
            "type": "machine",
            "label": "Find units",
            "goto": "complete",
            "options": {
              "application": {
                "application_id": "ace-ios",
                "platforms": [
                  {
                    "platform": "win32",
                    "arch": "ppc64"
                  },
                  {
                    "platform": "freebsd",
                    "arch": "s390"
                  },
                  {
                    "platform": "aix",
                    "arch": "ppc"
                  },
                  {
                    "platform": "win32",
                    "arch": "ia32"
                  },
                  {
                    "platform": "darwin",
                    "arch": "arm"
                  }
                ]
              },
              "configuration": {
                "pairing_cert": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
                "pairing_key": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
                "restore_device": false,
                "automated_enrollment": true,
                "mdm": {
                  "vendor": "AirWatch",
                  "console_url": "http://jamf.zones.com",
                  "user": "NterpriseBob",
                  "password": "Duis sint cillum mollit qui",
                  "tenant_code": "nterprise",
                  "set_asset_tag": "$._entity.input_filter[?(@.key = 'asset-tag')]"
                },
                "field_mappings": [
                  {
                    "from": "bt_mac",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "icon_list_regex",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "name",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  },
                  {
                    "from": "ecid",
                    "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
                  }
                ],
                "wait_for_apps": [
                  "com.apple.itunes"
                ],
                "wait_for_battery_charge": 86
              }
            },
            "goto-fail": "process-fail",
            "context": [
              {
                "key": "$.unit.status",
                "value": "true",
                "lock": false,
                "ignore": true
              },
              {
                "key": "$.unit.status",
                "value": "$.buzz",
                "lock": true,
                "ignore": false
              },
              {
                "key": "$.fizz",
                "value": "$.buzz",
                "lock": false,
                "ignore": true
              }
            ],
            "onError": {
              "finally": {
                "goto": "failed",
                "actions": [
                  {
                    "type": "email",
                    "options": {
                      "to": "bob@example.com",
                      "from": "alice@example.com"
                    }
                  }
                ]
              },
              "retry": 7
            },
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          },
          "dolora8$": {
            "step": "complete",
            "label": "Find units",
            "type": "success",
            "onComplete": {
              "actions": [
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                },
                {
                  "type": "email",
                  "options": {
                    "to": "bob@example.com",
                    "from": "alice@example.com"
                  }
                }
              ]
            }
          }
        },
        "starts_at": "entry",
        "label": "MLTI iPad Assembly Assignment",
        "workflow_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
        "applies_to": "unit",
        "slug": "mlti-ipad-assembly-assignment",
        "version": "1.0",
        "workflow_version": 7,
        "context": [
          {
            "key": "extract_fields",
            "value": "Pending",
            "lock": true,
            "ignore": false
          },
          {
            "key": "$.unit.status",
            "value": "$.buzz",
            "lock": false,
            "ignore": false
          },
          {
            "key": "extract_fields",
            "value": "$.buzz",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.unit.status",
            "value": "$.buzz",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.unit.status",
            "value": "Pending",
            "lock": false,
            "ignore": true
          }
        ],
        "created": "2008-08-05T22:38:08.324Z",
        "updated": "1966-01-01T09:10:05.397Z"
      },
      "cycles_pending": 4,
      "cycles_in_progress": 4,
      "cycles_verifying": 4,
      "cycles_complete": 4,
      "cycles_blocked": 4,
      "cycles_cancelled": 4
    }
  ],
  "start_date": "2019-08-07T18:10:53.0Z",
  "end_date": "2020-08-07T18:10:53.0Z",
  "created": "1966-11-10T21:35:07.101Z",
  "updated": "1946-08-31T13:10:53.793Z"
}