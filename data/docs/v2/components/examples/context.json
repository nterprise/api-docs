{
  "context_id": "MWMwMjIyNTgtYWZjZC00YmYyLWE1NzYtYWU1OWI3YTE1ZDczOlVOSVQ6NTMxMDI5MjQtNDUwYS00ZjFlLWI1ZDQtYTIwN2JjNTg2NTIxOjE1Njc2MDUwNTU5OTUuNDQ1NjYzNDM-",
  "workflow": {
    "steps": {
      "success": {
        "type": "machine",
        "label": "Find units",
        "goto": "complete",
        "options": {
          "application": {
            "application_id": "ace-ios",
            "platforms": [
              {
                "platform": "darwin",
                "arch": "s390x"
              },
              {
                "platform": "darwin",
                "arch": "x64"
              },
              {
                "platform": "darwin",
                "arch": "x64"
              },
              {
                "platform": "linux",
                "arch": "mipsel"
              }
            ]
          },
          "configuration": {
            "pairing_cert": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
            "pairing_key": "dGhpcyBpcyBub3QgYSBjZXJ0IGZpbGUganVzdCBhbiBleGFtcGxl",
            "restore_device": false,
            "automated_enrollment": true,
            "mdm": {
              "vendor": "JAMF",
              "console_url": "http://jamf.zones.com",
              "user": "NterpriseBob",
              "password": "exercitation ad officia",
              "tenant_code": "nterprise",
              "set_asset_tag": "$._entity.input_filter[?(@.key = 'asset-tag')]"
            },
            "field_mappings": [
              {
                "from": "bt_mac",
                "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
              },
              {
                "from": "ethernet_mac",
                "to": "$._entity.input_filter[?(@.key = 'serial-number')]"
              }
            ],
            "wait_for_apps": [
              "com.apple.itunes",
              "com.apple.itunes",
              "com.apple.itunes"
            ],
            "wait_for_battery_charge": 46
          }
        },
        "goto-fail": "process-fail",
        "context": [
          {
            "key": "$.fizz",
            "value": "$.buzz",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.unit.status",
            "value": "Pending",
            "lock": true,
            "ignore": true
          }
        ],
        "onError": {
          "finally": {
            "goto": "failed",
            "actions": [
              {
                "type": "email",
                "options": {
                  "to": "bob@example.com",
                  "from": "alice@example.com"
                }
              }
            ]
          },
          "retry": 2
        },
        "onComplete": {
          "actions": [
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            }
          ]
        }
      },
      "Excepteurbf8$": {
        "label": "Instruct user to follow steps outlined in Apple PDF",
        "type": "user",
        "options": {
          "component": "follow-pdf-instructions",
          "payload": {
            "attachment_id": "eb65b19f-efb4-40e7-991c-03ba1a2d7ca7"
          }
        },
        "goto": "complete",
        "goto-fail": "process-fail",
        "context": [
          {
            "key": "$.unit.status",
            "value": "true",
            "lock": true,
            "ignore": false
          },
          {
            "key": "extract_fields",
            "value": "Pending",
            "lock": true,
            "ignore": false
          },
          {
            "key": "extract_fields",
            "value": "true",
            "lock": true,
            "ignore": true
          },
          {
            "key": "$.unit.status",
            "value": "$.buzz",
            "lock": false,
            "ignore": false
          },
          {
            "key": "$.unit.status",
            "value": "$.buzz",
            "lock": false,
            "ignore": false
          }
        ],
        "onError": {
          "finally": {
            "goto": "failed",
            "actions": [
              {
                "type": "email",
                "options": {
                  "to": "bob@example.com",
                  "from": "alice@example.com"
                }
              },
              {
                "type": "email",
                "options": {
                  "to": "bob@example.com",
                  "from": "alice@example.com"
                }
              },
              {
                "type": "email",
                "options": {
                  "to": "bob@example.com",
                  "from": "alice@example.com"
                }
              }
            ]
          },
          "retry": 0
        },
        "onComplete": {
          "actions": [
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            },
            {
              "type": "email",
              "options": {
                "to": "bob@example.com",
                "from": "alice@example.com"
              }
            }
          ]
        }
      }
    },
    "starts_at": "entry",
    "label": "MLTI iPad Assembly Assignment",
    "workflow_id": "e530652e-28e8-4f64-84af-e1cf0ff7c805",
    "applies_to": "unit",
    "slug": "mlti-ipad-assembly-assignment",
    "version": "1.0",
    "workflow_version": 7,
    "context": [
      {
        "key": "$.fizz",
        "value": "true",
        "lock": true,
        "ignore": true
      },
      {
        "key": "$.unit.status",
        "value": "$.buzz",
        "lock": true,
        "ignore": true
      },
      {
        "key": "$.fizz",
        "value": "$.buzz",
        "lock": false,
        "ignore": true
      }
    ],
    "created": "1998-12-19T16:30:55.98Z",
    "updated": "1973-03-07T17:32:20.872Z"
  },
  "current_step": "assign-units",
  "last_steps": [
    {
      "step_name": "choose-units",
      "started_at": "2005-08-11T01:47:24.675Z",
      "ended_at": "1992-11-03T21:27:34.747Z",
      "time_to_run": "1567605055995.677",
      "did_error": true,
      "did_timeout": false
    },
    {
      "step_name": "choose-units",
      "started_at": "2006-06-24T06:03:41.05Z",
      "ended_at": "2014-02-27T07:44:47.323Z",
      "time_to_run": "1567605055995.677",
      "did_error": true,
      "did_timeout": false
    },
    {
      "step_name": "choose-units",
      "started_at": "1979-06-30T09:17:38.272Z",
      "ended_at": "1949-08-08T13:57:05.339Z",
      "time_to_run": "1567605055995.677",
      "did_error": false,
      "did_timeout": true
    },
    {
      "step_name": "choose-units",
      "started_at": "1989-01-07T22:04:21.446Z",
      "ended_at": "2000-07-11T07:49:16.421Z",
      "time_to_run": "1567605055995.677",
      "did_error": true,
      "did_timeout": false
    },
    {
      "step_name": "choose-units",
      "started_at": "1961-12-30T10:27:38.5Z",
      "ended_at": "1994-12-11T21:13:02.047Z",
      "time_to_run": "1567605055995.677",
      "did_error": false,
      "did_timeout": true
    }
  ],
  "started_at": "1985-10-13T03:02:10.242Z",
  "ended_at": "1945-05-20T15:22:28.985Z",
  "time_to_run": "1567605055995.677",
  "active": true,
  "waiting_for_user": false,
  "data": {
    "can_foo_the_bar": true,
    "available_units_by_part": {
      "373b7cd6-3fde-4afe-a790-411d72e07c89": 42,
      "8faaacaa-94d4-4f1f-a8eb-39353dbbf524": 84
    }
  }
}